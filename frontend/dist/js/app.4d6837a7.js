(function(t){function e(e){for(var s,n,i=e[0],c=e[1],l=e[2],g=0,h=[];g<i.length;g++)n=i[g],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&h.push(o[n][0]),o[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,i=1;i<a.length;i++){var c=a[i];0!==o[c]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},o={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1018:function(t,e,a){},2136:function(t,e,a){},"255b":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],n=a("2877"),i={},c=Object(n["a"])(i,o,r,!1,null,null,null),l=c.exports,u=(a("caad"),a("8c4f")),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-header"),a("page-hero"),a("page-category"),a("page-footer")],1)},h=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"col-lg-9 col-md-9"},[a("div",{staticClass:"header__nav"},[a("nav",{staticClass:"header__menu mobile-menu"},[a("ul",[a("router-link",{attrs:{tag:"li",to:"/"}},[a("a",[t._v("Home")])]),a("router-link",{class:t.isActive("/book")?"active":"",attrs:{tag:"li",to:"/books"}},[a("a",[t._v("Books")])]),a("router-link",{class:t.isActive("/categor")?"active":"",attrs:{tag:"li",to:"/categories"}},[a("a",[t._v("Categories")])]),a("router-link",{class:t.isActive("/branch")?"active":"",attrs:{tag:"li",to:"/branches"}},[a("a",[t._v("Branches")])])],1)]),a("div",{staticClass:"header__menu__right"},[t.loggedIn?a("router-link",{staticClass:"primary-btn",attrs:{to:"/auth/logout"}},[a("i",{staticClass:"fa fa-user"}),t._v(" Logout")]):a("router-link",{staticClass:"primary-btn",attrs:{to:"/auth/logout"}},[a("i",{staticClass:"fa fa-user"}),t._v(" Login")])],1)])])]),a("div",{attrs:{id:"mobile-menu-wrap"}})])])},f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-lg-3 col-md-3"},[a("div",{staticClass:"header__logo"},[a("a",{attrs:{href:"/"}},[a("img",{attrs:{src:"/img/LuckyLibraryLogo.png",alt:""}})])])])}],p=(a("c975"),a("b0c0"),{methods:{isActive:function(t){return 0===this.$route.path.indexOf(t)}},mounted:function(){if("Home"!==this.$route.name&&"Book"!==this.$route.name){var t=document.getElementsByClassName("header")[0];t.setAttribute("style","background-image: url('/img/hero/library-bg.jpg');")}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}}}),m=p,_=Object(n["a"])(m,d,f,!1,null,null,null),v=_.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero set-bg"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"hero__text"},[a("div",{staticClass:"section-title"},[a("h2",[t._v("Discover The Best Books Near You")]),a("p",[t._v(t._s(t.numOfBooks)+" The best book is waiting for you")])]),a("search",{attrs:{categories:t.categories}})],1)])])])])},k=[],C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("ul",{staticClass:"hero__categories__tags"},[t._l(t.slicedCategories,(function(e,s){return a("li",{key:s},[a("a",{attrs:{href:"/category/"+e.name.toLowerCase()}},[a("img",{attrs:{src:"/img/categories/category.png",alt:""}}),t._v(" "+t._s(e.name)+" ")])])})),t.categories.length>0?a("li",[t._m(1)]):t._e()],2)])},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hero__search__form"},[a("form",{attrs:{action:"/books/search",method:"GET"}},[a("input",{attrs:{type:"text",name:"query",placeholder:"Search..."}}),a("button",{attrs:{type:"submit"}},[t._v("Search Now")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"/categories/"}},[a("img",{attrs:{src:"img/hero/cat-6.png",alt:""}}),t._v(" All Categories")])}],w=(a("fb6a"),{props:["categories"],computed:{slicedCategories:function(){return this.categories&&this.categories.length>5?this.categories.slice(0,5):this.categories}}}),B=w,$=Object(n["a"])(B,C,y,!1,null,null,null),x=$.exports,O={components:{Search:x},methods:{},mounted:function(){this.$store.dispatch("books/getNumOfBooks"),this.$store.dispatch("books/getCategories")},computed:{categories:function(){return this.$store.state.books.categories},numOfBooks:function(){return this.$store.state.books.numOfBooks}}},P=O,E=(a("87fe"),Object(n["a"])(P,b,k,!1,null,"2356210a",null)),j=E.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"categories spad"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[t._m(0),a("div",{staticClass:"categories__item__list"},t._l(t.categories,(function(e,s){return a("div",{key:s,staticClass:"categories__item"},[a("a",{attrs:{href:"/category/"+e.name.toLowerCase()}},[a("img",{attrs:{src:"/img/categories/categories.png",alt:""}}),a("h5",[t._v(t._s(e.name))]),a("span",[t._v(t._s(e.bcount)+" Books")])])])})),0)])])])])},N=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-title"},[a("h2",[t._v("Most Popular Categories")]),a("p",[t._v("World of Book for Young and Old")])])}],A={mounted:function(){this.$store.dispatch("books/getCategories")},computed:{categories:function(){var t=this.$store.state.books.categories;return t&&t.length>5?t.slice(0,5):t}}},L=A,H=Object(n["a"])(L,S,N,!1,null,null,null),F=H.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"footer"},[a("div",{staticClass:"container"},[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"footer__copyright"},[a("div",{staticClass:"footer__copyright__text"},[a("p",[t._v(" Copyright Â© "+t._s(t.thisYear)+" All rights reserved | This template is made with "),a("i",{staticClass:"fa fa-heart",attrs:{"aria-hidden":"true"}}),t._v(" by "),a("a",{attrs:{href:"https://colorlib.com",target:"_blank"}},[t._v("Colorlib")])])])])])])])])},D=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3 col-md-6"},[a("div",{staticClass:"footer__about"},[a("div",{staticClass:"footer__about__logo"},[a("a",{attrs:{href:"/"}},[a("img",{attrs:{src:"/img/LuckyLibraryLogo.png",alt:""}})])]),a("p",[t._v("Challenging the way things have always been done can lead to creative new options that reward you. ")])])]),a("div",{staticClass:"col-lg-4 offset-lg-1 col-md-6"},[a("div",{staticClass:"footer__address"},[a("ul",[a("li",[a("span",[t._v("Call Us:")]),a("p",[t._v("(+12) 345-678-910")])]),a("li",[a("span",[t._v("Email:")]),a("p",[t._v("me@musaugurlu.com")])]),a("li",[a("span",[t._v("Fax:")]),a("p",[t._v("(+12) 345-678-910")])]),a("li",[a("span",[t._v("Connect Us:")]),a("div",{staticClass:"footer__social"},[a("a",{attrs:{href:"https://twitter.com/musaugurlu"}},[a("i",{staticClass:"fa fa-twitter"})]),a("a",{attrs:{href:"https://linkedin.com/in/musaugurlu"}},[a("i",{staticClass:"fa fa-linkedin"})])])])])])]),a("div",{staticClass:"col-lg-3 offset-lg-1 col-md-6"},[a("div",{staticClass:"footer__widget"},[a("ul",[a("li",[a("a",{attrs:{href:"/"}},[t._v("Home")])]),a("li",[a("a",{attrs:{href:"/books"}},[t._v("Books")])]),a("li",[a("a",{attrs:{href:"/categories"}},[t._v("Categories")])]),a("li",[a("a",{attrs:{href:"/branches"}},[t._v("Branches")])]),a("li",[a("a",{attrs:{href:"/my"}},[t._v("Log in")])])])])])])}],R={computed:{thisYear:function(){return(new Date).getFullYear()}}},T=R,q=Object(n["a"])(T,I,D,!1,null,null,null),J=q.exports,M={name:"Home",components:{PageHeader:v,PageHero:j,PageCategory:F,PageFooter:J}},U=M,Y=Object(n["a"])(U,g,h,!1,null,null,null),G=Y.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-header"),a("category"),a("page-footer")],1)},V=[],W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"categories spad"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[t._m(0),a("div",{staticClass:"categories__item__list"},t._l(t.categories,(function(e,s){return a("a",{key:s,attrs:{href:"/category/"+e.name.toLowerCase()}},[a("div",{staticClass:"categories__item"},[a("img",{attrs:{src:"/img/categories/categories.png",alt:""}}),a("h5",[t._v(t._s(e.name))]),a("span",[t._v(t._s(e.bcount)+" Books")])])])})),0)])])])])},K=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-title"},[a("p"),a("h2",[t._v("Categories")])])}],Q={mounted:function(){this.$store.dispatch("books/getCategories")},computed:{categories:function(){return this.$store.state.books.categories}}},X=Q,Z=Object(n["a"])(X,W,K,!1,null,null,null),tt=Z.exports,et={components:{PageHeader:v,Category:tt,PageFooter:J}},at=et,st=Object(n["a"])(at,z,V,!1,null,null,null),ot=st.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-header"),a("breadcrumb",{attrs:{category:t.$route.params.category}}),a("book-list",{attrs:{category:t.$route.params.category,books:t.books}}),a("page-footer")],1)},nt=[],it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"breadcrumb-area set-bg"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 text-center"},[a("div",{staticClass:"breadcrumb__text"},[a("h2",[t._v("Categories")]),a("div",{staticClass:"breadcrumb__option"},[t._m(0),a("span",[t._v(t._s(t.category))])])])])])])])},ct=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"/categories"}},[a("i",{staticClass:"fa fa-home"}),t._v(" Categories")])}],lt={props:["category"]},ut=lt,gt=(a("f64b"),Object(n["a"])(ut,it,ct,!1,null,"791a26c4",null)),ht=gt.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"blog-section spad"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"row"},t._l(t.displayedBooks,(function(t){return a("single-book",{key:t.id,attrs:{id:t.id,img:t.imgUrl,title:t.title,author:t.author,publishedDate:t.publishedDate,category:t.category.name}})})),1),t.pages.length>1?a("div",{staticClass:"blog__pagination"},[t.page>3?a("button",{on:{click:function(e){e.preventDefault(),t.page=1}}},[a("i",{staticClass:"fa fa-angle-double-left"})]):t._e(),a("button",{attrs:{disabled:t.page<=1},on:{click:function(e){return e.preventDefault(),t.goPrev(e)}}},[a("i",{staticClass:"fa fa-long-arrow-left"}),t._v(" Pre")]),t.page>3?a("button",{attrs:{disabled:"disabled"}},[t._v("...")]):t._e(),t._l(t.pageNums,(function(e){return a("button",{key:e,attrs:{disabled:e==t.page},on:{click:function(a){return a.preventDefault(),t.setPage(e)}}},[t._v(t._s(e))])})),t.page<t.pages.length-2?a("button",{attrs:{disabled:"disabled"}},[t._v("...")]):t._e(),a("button",{attrs:{disabled:t.page>=t.pages.length},on:{click:function(e){return e.preventDefault(),t.goNext(e)}}},[t._v("Next "),a("i",{staticClass:"fa fa-long-arrow-right"})]),t.page<t.pages.length-2?a("button",{on:{click:function(e){t.page=t.pages.length}}},[a("i",{staticClass:"fa fa-angle-double-right"})]):t._e()],2):t._e()])])])])},ft=[],pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-lg-3 col-md-3"},[a("div",{staticClass:"blog__item"},[a("div",{staticClass:"blog__item__pic",style:t.getBGStyle()}),a("div",{staticClass:"blog__item__text"},[a("ul",{staticClass:"blog__item__tags"},[a("li",[a("i",{staticClass:"fa fa-tags"}),t._v(" "+t._s(t.category))])]),a("h5",[a("a",{attrs:{href:"/book/"+t.id}},[t._v(" "+t._s(t.title))])]),a("ul",{staticClass:"blog__item__widget"},[a("li",[a("i",{staticClass:"fa fa-clock-o"}),t._v(" "+t._s(t.publishedDate))]),a("li",[a("i",{staticClass:"fa fa-user"}),t._v(" "+t._s(t.author))])])])])])},mt=[],_t={props:["id","img","title","author","publishedDate","category"],methods:{getBGStyle:function(){return"background-image: url('"+this.img+"');background-repeat: no-repeat;background-position: center;"}}},vt=_t,bt=Object(n["a"])(vt,pt,mt,!1,null,null,null),kt=bt.exports,Ct={components:{SingleBook:kt},props:["books"],data:function(){return{pages:[],page:1,perPage:12}},methods:{goPrev:function(){this.page>1&&this.page--},goNext:function(){this.page<this.pages.length&&this.page++},setPage:function(t){this.page=t},setPages:function(){for(var t=Math.ceil(this.pageBooks.length/this.perPage),e=0;e<t;e++)this.pages.push(e+1)},paginate:function(t){var e=this.page,a=this.perPage,s=e*a-a,o=e*a;return t&&t.length>0?t.slice(s,o):t}},watch:{books:function(){this.setPages()}},computed:{pageBooks:function(){return this.books},displayedBooks:function(){return this.paginate(this.pageBooks)},pageNums:function(){var t=this.page>3?this.page-3:0,e=this.page<this.pages.length-2?this.page+2:this.pages.length;return this.pages.slice(t,e)}}},yt=Ct,wt=Object(n["a"])(yt,dt,ft,!1,null,null,null),Bt=wt.exports,$t=a("d4ec"),xt=a("bee2"),Ot=a("bc3a"),Pt=a.n(Ot),Et="http://localhost:8090",jt=function(){function t(){Object($t["a"])(this,t)}return Object(xt["a"])(t,[{key:"getSingleBook",value:function(t){return Pt.a.get(Et+"/book/"+t)}},{key:"getAllBooks",value:function(){return Pt.a.get(Et+"/books")}},{key:"searchBook",value:function(t){return Pt.a.get(Et+"/books/search/"+t)}},{key:"getBooksByCategory",value:function(t){return Pt.a.get(Et+"/books/byCategory/"+t)}},{key:"findBooks",value:function(t){return Pt.a.get(Et+"/books/search?query="+t)}},{key:"getBranches",value:function(){return Pt.a.get(Et+"/branches")}},{key:"getBranch",value:function(t){return Pt.a.get(Et+"/branch/"+t)}}]),t}(),St=jt,Nt=new St,At={components:{PageHeader:v,Breadcrumb:ht,BookList:Bt,PageFooter:J},data:function(){return{books:[]}},methods:{fetchBooks:function(){var t=this;Nt.getBooksByCategory(this.$route.params.category).then((function(e){t.books=e.data}))}},mounted:function(){this.fetchBooks()}},Lt=At,Ht=Object(n["a"])(Lt,rt,nt,!1,null,null,null),Ft=Ht.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-header"),a("page-hero",{attrs:{book:t.book,category:t.category.name}}),a("page-book",{attrs:{book:t.book,branch:t.branch}}),a("page-footer")],1)},Dt=[],Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"listing-hero set-bg"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-8"},[a("div",{staticClass:"listing__hero__option"},[a("div",{staticClass:"listing__hero__icon"},[a("img",{attrs:{src:t.book.imgUrl,alt:""}})]),a("div",{staticClass:"listing__hero__text"},[a("h2",[t._v(t._s(t.book.title))]),a("div",{staticClass:"listing__hero__widget"},[a("div",{staticClass:"listing__hero__widget__rating"},[a("i",{staticClass:"fa fa-tag",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.category)+" ")]),a("div",[t._v(t._s(t.book.view)+" View")])]),a("p",[a("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.book.author))])])])]),t._m(0)])])])},Tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"listing__hero__btns"},[a("a",{staticClass:"primary-btn share-btn",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-mail-reply"}),t._v(" Hold")]),a("a",{staticClass:"primary-btn",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-bookmark"}),t._v(" Check Out")])])])}],qt={props:["book","category"]},Jt=qt,Mt=(a("8915"),Object(n["a"])(Jt,Rt,Tt,!1,null,"2d283e93",null)),Ut=Mt.exports,Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"listing-details spad"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-8"},[a("div",{staticClass:"listing__details__text"},[a("div",{staticClass:"listing__details__about"},[a("h4",[t._v("Description")]),a("p",[t._v(t._s(t.book.description))])])])]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"listing__sidebar"},[a("div",{staticClass:"listing__sidebar__contact"},[t._m(0),a("div",{staticClass:"listing__sidebar__contact__text"},[a("h4",[t._v(t._s(t.branch.name))]),a("ul",[a("li",[a("span",{staticClass:"icon_pin_alt"}),t._v(" "+t._s(t.branch.address)+" United States")]),a("li",[a("span",{staticClass:"icon_phone"}),t._v(" "+t._s(t.branch.phone))]),t._m(1),t._m(2)])])])])])])])])},Gt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"listing__sidebar__contact__map"},[a("iframe",{staticStyle:{border:"0"},attrs:{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3443.7681456471705!2d-81.65988898487815!3d30.329112081779684!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88e5b71823d5d43f%3A0x3b6a39728dac6947!2s303%20N%20Laura%20St%2C%20Jacksonville%2C%20FL%2032202!5e0!3m2!1sen!2sus!4v1593388331220!5m2!1sen!2sus",height:"200",allowfullscreen:"","aria-hidden":"false",tabindex:"0"}}),a("img",{attrs:{src:"/img/map-icon.png",alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("span",{staticClass:"icon_mail_alt"}),t._v(" luckylibrary@musaugurlu.com")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("span",{staticClass:"icon_globe-2"}),t._v(" https://luckylibrary.musaugurlu.com")])}],zt={props:["book","branch"]},Vt=zt,Wt=Object(n["a"])(Vt,Yt,Gt,!1,null,null,null),Kt=Wt.exports,Qt=new St,Xt={components:{PageHeader:v,PageHero:Ut,PageBook:Kt,PageFooter:J},data:function(){return{book:[],category:[],branch:[]}},methods:{fetchBooks:function(){var t=this;Qt.getSingleBook(this.$route.params.book).then((function(e){t.book=e.data,t.category=e.data.category,t.branch=e.data.branch}))}},mounted:function(){this.fetchBooks()}},Zt=Xt,te=Object(n["a"])(Zt,It,Dt,!1,null,null,null),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-header"),a("page-books"),a("page-footer")],1)},se=[],oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"categories spad"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("search",{attrs:{categories:""}}),t._m(0),a("book-list",{attrs:{books:t.newBooks}}),t._m(1),a("book-list",{attrs:{books:t.popularBooks}})],1)])])])},re=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-title"},[a("p"),a("h2",[t._v("New Books")]),a("p")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-title"},[a("p"),a("h2",[t._v("Popular Books")]),a("p")])}],ne={components:{BookList:Bt,Search:x},mounted:function(){this.$store.dispatch("books/getNewBooks"),this.$store.dispatch("books/getPopularBooks")},computed:{popularBooks:function(){return this.$store.state.books.popularBooks},newBooks:function(){return this.$store.state.books.newBooks}}},ie=ne,ce=Object(n["a"])(ie,oe,re,!1,null,null,null),le=ce.exports,ue={components:{PageHeader:v,PageBooks:le,PageFooter:J}},ge=ue,he=Object(n["a"])(ge,ae,se,!1,null,null,null),de=he.exports,fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-header"),a("page-search"),a("page-footer")],1)},pe=[],me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"categories spad"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("page-search",{attrs:{categories:""}}),a("div",{staticClass:"section-title"},[a("p"),a("h2",[t._v("Search for: "+t._s(t.$route.query.query))]),a("p")]),t.books.length>0?a("book-list",{attrs:{books:t.books}}):a("p",[t._v("No books found. Try to search with less words.")])],1)])])])},_e=[],ve=new St,be={components:{BookList:Bt,PageSearch:x},data:function(){return{books:[]}},methods:{fetchBooks:function(){var t=this;ve.findBooks(this.$route.query.query).then((function(e){t.books=e.data}))}},mounted:function(){this.fetchBooks()}},ke=be,Ce=Object(n["a"])(ke,me,_e,!1,null,null,null),ye=Ce.exports,we={components:{PageHeader:v,PageSearch:ye,PageFooter:J}},Be=we,$e=Object(n["a"])(Be,fe,pe,!1,null,null,null),xe=$e.exports,Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},Pe=[],Ee={},je=Object(n["a"])(Ee,Oe,Pe,!1,null,null,null),Se=je.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-header"),a("branches"),a("page-footer")],1)},Ae=[],Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"categories spad"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[t._m(0),a("div",{staticClass:"categories__item__list"},t._l(t.branches,(function(e,s){return a("a",{key:s,attrs:{href:"/branch/"+e.id}},[a("div",{staticClass:"categories__item"},[a("img",{attrs:{src:"/img/categories/"+t.category.img,alt:""}}),a("h5",[t._v(t._s(e.name))])])])})),0)])])])])},He=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-title"},[a("h2",[t._v("Branches")]),a("p")])}],Fe=new St,Ie={data:function(){return{branches:[]}},methods:{fetchBranches:function(){var t=this;Fe.getBranches().then((function(e){t.branches=e.data}))}},mounted:function(){this.fetchBranches()}},De=Ie,Re=Object(n["a"])(De,Le,He,!1,null,null,null),Te=Re.exports,qe={components:{PageHeader:v,Branches:Te,PageFooter:J}},Je=qe,Me=Object(n["a"])(Je,Ne,Ae,!1,null,null,null),Ue=Me.exports,Ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero set-bg"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"hero__text"},[t._m(0),a("div",{staticClass:"login_form"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[t.alert?a("span",{staticClass:"alert alert-danger"},[t._v(t._s(t.alert))]):t._e(),a("p"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",name:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("button",{staticClass:"site-btn",attrs:{type:"submit"}},[t._v("Login")])])])])])])])])},Ge=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-title"},[a("h2",[t._v("Login")])])}],ze={data:function(){return{email:"",password:"",submitted:!1}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn},alert:function(){return this.$store.state.alert.message}},created:function(){this.$store.dispatch("auth/logout")},methods:{handleSubmit:function(){this.submitted=!0;var t=this.email,e=this.password,a=this.$store.dispatch;t&&e&&a("auth/login",{email:t,password:e})}}},Ve=ze,We=(a("e687"),Object(n["a"])(Ve,Ye,Ge,!1,null,"2c325436",null)),Ke=We.exports,Qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" Logging out... ")])},Xe=[],Ze={mounted:function(){this.$store.dispatch("auth/logout"),ra.push("/")}},ta=Ze,ea=Object(n["a"])(ta,Qe,Xe,!1,null,null,null),aa=ea.exports;s["a"].use(u["a"]);var sa=[{path:"/",name:"Home",component:G},{path:"/category/:category",name:"Category",component:Ft},{path:"/categories",name:"Categories",component:ot},{path:"/book/:book",name:"Book",component:ee},{path:"/books",name:"Books",component:de},{path:"/books/search",name:"Search",component:xe},{path:"/branch/:id",name:"Branch",component:Se},{path:"/branches",name:"Branches",component:Ue},{path:"/auth/login",name:"login",component:Ke},{path:"/auth/logout",name:"logout",component:aa}],oa=new u["a"]({mode:"history",base:"/",routes:sa,linkExactActiveClass:"active",linkActiveClass:"active"});oa.beforeEach((function(t,e,a){var s=["/","/book*","/categor*","/auth/login"],o=!s.includes(t.path),r=localStorage.getItem("user");if(o&&!r)return a("/auth/login");a()}));var ra=oa,na=a("2f62"),ia={namespaced:!0,state:{type:null,message:null},actions:{success:function(t,e){var a=t.commit;a("success",e)},error:function(t,e){var a=t.commit;a("error",e)},clear:function(t){var e=t.commit;e("clear")}},mutations:{success:function(t,e){t.type="alert-success",t.message=e},error:function(t,e){t.type="alert-danger",t.message=e},clear:function(t){t.type=null,t.message=null}}};a("d3b7");function ca(){var t=JSON.parse(localStorage.getItem("user"));return t&&t.token?{Authorization:"Bearer "+t.token}:{}}var la="http://localhost:8090",ua={login:ga,logout:ha,getAll:fa};function ga(t,e){var a={email:t,password:e};return Pt.a.post("".concat(la,"/auth/login"),a).then((function(t){return t.data.token&&localStorage.setItem("user",JSON.stringify(t)),t}))}function ha(){localStorage.removeItem("user")}function da(t){return t.then((function(e){var a=e&&JSON.parse(e);if(!t.ok){401===t.status&&(ha(),location.reload(!0));var s=a&&a.message||t.statusText;return Promise.reject(s)}return a}))}function fa(){var t={method:"GET",headers:ca()};return Pt.a.get("".concat(la,"/books/numOfBooks"),t).then(da)}var pa=JSON.parse(localStorage.getItem("user")),ma=pa?{status:{loggedIn:!0},user:pa}:{status:{},user:null},_a={namespaced:!0,state:ma,actions:{login:function(t,e){var a=t.dispatch,s=t.commit,o=e.email,r=e.password;s("loginRequest",{email:o}),ua.login(o,r).then((function(t){s("loginSuccess",t),ra.push("/")}),(function(t){s("loginFailure",t),a("alert/error",t,{root:!0})}))},logout:function(t){var e=t.commit;ua.logout(),e("logout")}},mutations:{loginRequest:function(t,e){t.status={loggingIn:!0},t.user=e},loginSuccess:function(t,e){t.status={loggedIn:!0},t.user=e},loginFailure:function(t){t.status={},t.user=null},logout:function(t){t.status={},t.user=null}}},va=(a("96cf"),a("1da1")),ba="http://localhost:8090",ka={namespaced:!0,state:{categories:[],newBooks:[],popularBooks:[],numOfBooks:0,lastCatSyncTime:0,lastNoBSyncTime:0},mutations:{setCategories:function(t,e){return t.categories=e},setNewBooks:function(t,e){return t.newBooks=e},setPopularBooks:function(t,e){return t.popularBooks=e},setNumOfBooks:function(t,e){return t.numOfBooks=e}},actions:{getCategories:function(t){return Object(va["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,Pt.a.get("".concat(ba,"/categories"));case 3:s=e.sent,a("setCategories",s.data);case 5:case"end":return e.stop()}}),e)})))()},getNumOfBooks:function(t){return Object(va["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,Pt.a.get("".concat(ba,"/books/numOfBooks"));case 3:s=e.sent,a("setNumOfBooks",s.data);case 5:case"end":return e.stop()}}),e)})))()},getNewBooks:function(t){return Object(va["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,Pt.a.get("".concat(ba,"/books/newbooks"));case 3:s=e.sent,a("setNewBooks",s.data);case 5:case"end":return e.stop()}}),e)})))()},getPopularBooks:function(t){return Object(va["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,Pt.a.get("".concat(ba,"/books/popularbooks"));case 3:s=e.sent,a("setPopularBooks",s.data);case 5:case"end":return e.stop()}}),e)})))()}}},Ca={namespaced:!0,state:{all:{}},actions:{getAll:function(t){var e=t.commit;e("getAllRequest"),ua.getAll().then((function(t){return e("getAllSuccess",t)}),(function(t){return e("getAllFailure",t)}))}},mutations:{getAllRequest:function(t){t.all={loading:!0}},getAllSuccess:function(t,e){t.all={items:e}},getAllFailure:function(t,e){t.all={error:e}}}};s["a"].use(na["a"]);var ya=new na["a"].Store({modules:{alert:ia,auth:_a,books:ka,users:Ca}});s["a"].config.productionTip=!1,new s["a"]({router:ra,store:ya,render:function(t){return t(l)}}).$mount("#app")},7572:function(t,e,a){},"87fe":function(t,e,a){"use strict";var s=a("1018"),o=a.n(s);o.a},8915:function(t,e,a){"use strict";var s=a("2136"),o=a.n(s);o.a},e687:function(t,e,a){"use strict";var s=a("255b"),o=a.n(s);o.a},f64b:function(t,e,a){"use strict";var s=a("7572"),o=a.n(s);o.a}});
//# sourceMappingURL=app.4d6837a7.js.map